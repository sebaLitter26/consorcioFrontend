<main>
    <div class="header" role="header">
        <h1>Gesti√≥n de edificios</h1>
        <button appRoundButton mat-flat-button color="primary" class="btn btn-primary" (click)="openDialogCreateCount()">
            <mat-icon>add</mat-icon> Agregar conteo
        </button>
    </div>

    <app-counts-list-filters (onFiltersChanged)="onFiltersChanged($event)"></app-counts-list-filters>
    
    <div class="table-container">
        <app-dynamic-table *ngIf="counts.length > 0; else tableLoader"
        [data]="counts"
        [borderRadius]="'10px'"
        [tableDefinition]="tableDefinition"
        [customColumnComponents]="customComponents"
        [columnFormaters]="columnFormaters"
        [columnStyles]="columnStyles"
        [usePagination]="true"
        [pageSize]="16"
        [updateSource]="countsUpdateSource.asObservable()"
        >
        </app-dynamic-table>
        <ng-template #tableLoader>
            <app-table-loader *ngIf="loading; else tableNoResult"
            [backgroundColor]="'var(--color-card-fade)'"
            [borderRadius]="'4px'"
            [columns]="6"
            [rows]="1"
            ></app-table-loader>
            
            <ng-template #tableNoResult>
                <p class="no-results">NO SE ENCONTRARON EDIFICIOS</p>
            </ng-template>
        </ng-template>
    </div>
</main>


 